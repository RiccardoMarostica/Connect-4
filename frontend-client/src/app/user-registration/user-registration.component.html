<div class="container" style="width: 400px; margin-top: 20px;">

   <form class="form-signin">

      <div class="text-center">
         <i class="fas fa-envelope loginlogo"></i>
         <h1 class="h3 mb-3 font-weight-normal">Sign-up</h1>
         <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
      </div>


      <div class="form-group">
         <label for="inputEmail">Email address</label>
         <input type="email" #mail="ngModel" name="mail" [(ngModel)]="user.email" pattern="[^@\s]+@[^@\s]+\.[^@\s]+"
            class="form-control" required id="inputEmail" aria-describedby="emailHelp" placeholder="Enter email">
      </div>

      <div [hidden]="mail.valid || mail.pristine" class="alert alert-danger">
         La mail non è valida
      </div>

      <div class="form-group">
         <label for="inputUsername">Username</label>
         <input type="text" #username="ngModel" required name="username" [(ngModel)]="user.username"
            class="form-control" id="inputUsername" placeholder="Enter username">
      </div>

      <div [hidden]="username.valid || username.pristine" class="alert alert-danger">
         Lo username è richiesto
      </div>

      <div class="form-group">
         <label for="inputPassword">Password</label>
         <input type="password" #password="ngModel" required name="password" [(ngModel)]="user.password"
            class="form-control" id="inputPassword" placeholder="Password">
      </div>

      <div [hidden]="password.valid || password.pristine" class="alert alert-danger">
         La password è richiesta
      </div>

      <div class="form-group mt-4">
         <label for="inputEmail">Seleaziona il tuo avatar</label>
         <div class="row text-center">
            <div class="col-md-3 col-sm-3 py-2" (click)="setAvatar('man-1')">
               <img src="../../assets/man-1.png" width="80px" height="80px" alt="user" class="profile-photo-sm">
            </div>
            <div class="col-md-3 col-sm-3 py-2" (click)="setAvatar('woman-1')">
               <img src="../../assets/woman-1.png" width="80px" height="80px" alt="user" class="profile-photo-lg">
            </div>
            <div class="col-md-3 col-sm-3 py-2" (click)="setAvatar('man-2')">
               <img src="../../assets/man-2.png" width="80px" height="80px" alt="user" class="profile-photo-lg">
            </div>
            <div class="col-md-3 col-sm-3 py-2" (click)="setAvatar('woman-2')">
               <img src="../../assets/woman-2.png" width="80px" height="80px" alt="user" class="profile-photo-lg">
            </div>
         </div>
      </div>

      <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
         Login error: {{errorMessage}}
      </div>


      <div class="row text-center">
         <div class="col-12 d-grid gap-2 my-3">
            <button class="btn btn-lg btn-primary btn-block"
               [disabled]=" !mail.valid || !password.valid || !username.valid || !user.avatar" (click)="signup();">Sign up</button>
         </div>
      </div>



   </form>
</div>